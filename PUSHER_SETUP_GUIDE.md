# üöÄ Pusher Setup Guide - –°—Ç—ä–ø–∫–∞ –ø–æ —Å—Ç—ä–ø–∫–∞

## ‚úÖ –í–∏–µ –Ω–∞–ø—Ä–∞–≤–∏—Ö—Ç–µ: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ Pusher

## üìã –°–ª–µ–¥–≤–∞—â–∏ —Å—Ç—ä–ø–∫–∏:

### 1Ô∏è‚É£ –ò–∑–±–µ—Ä–µ—Ç–µ –ø—Ä–æ–¥—É–∫—Ç

–í Pusher dashboard –≤–∏–∂–¥–∞—Ç–µ 2 –æ–ø—Ü–∏–∏:

- **Channels** ‚Üê ‚úÖ –ò–ó–ë–ï–†–ï–¢–ï –¢–û–í–ê!
- ~~Beams~~ ‚Üê ‚ùå –ù–ï —Ç–æ–≤–∞ (–∑–∞ mobile push)

–ö–ª–∏–∫–Ω–µ—Ç–µ **"Get started"** –ø–æ–¥ **Channels**

---

### 2Ô∏è‚É£ –°—ä–∑–¥–∞–π—Ç–µ Channels App

–©–µ –≤–∏–¥–∏—Ç–µ —Ñ–æ—Ä–º–∞:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Name your Channels app              ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ luna-bar                        ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ Select a cluster                    ‚îÇ
‚îÇ ‚óã us-east-1                         ‚îÇ
‚îÇ ‚óè eu (Europe)  ‚Üê –ò–ó–ë–ï–†–ï–¢–ï –¢–û–í–ê     ‚îÇ
‚îÇ ‚óã ap-southeast-1                    ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ [Create app]                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü–æ–ø—ä–ª–Ω–µ—Ç–µ:**
- Name: `luna-bar`
- Cluster: `eu` (–Ω–∞–π-–±–ª–∏–∑–∫–æ –¥–æ –ë—ä–ª–≥–∞—Ä–∏—è)

**–ö–ª–∏–∫–Ω–µ—Ç–µ "Create app"**

---

### 3Ô∏è‚É£ –ö–æ–ø–∏—Ä–∞–π—Ç–µ App Keys

–°–ª–µ–¥ —Å—ä–∑–¥–∞–≤–∞–Ω–µ—Ç–æ:

1. –û—Ç–∏–¥–µ—Ç–µ –Ω–∞ —Ç–∞–± **"App Keys"** (–≥–æ—Ä–µ)
2. –©–µ –≤–∏–¥–∏—Ç–µ credentials:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ App Credentials                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ app_id       1234567                       ‚îÇ
‚îÇ key          abcdef123456789               ‚îÇ
‚îÇ secret       xyz987654321                  ‚îÇ
‚îÇ cluster      eu                            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ö–û–ü–ò–†–ê–ô–¢–ï –í–°–ò–ß–ö–ò 4 –°–¢–û–ô–ù–û–°–¢–ò!**

---

### 4Ô∏è‚É£ –°—ä–∑–¥–∞–π—Ç–µ .env.local —Ñ–∞–π–ª

–í Luna –ø—Ä–æ–µ–∫—Ç root –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:

**Windows PowerShell:**
```powershell
# –ö–æ–ø–∏—Ä–∞–π—Ç–µ template
copy env.example .env.local

# –ò–ª–∏ —Å—ä–∑–¥–∞–π—Ç–µ –Ω–æ–≤ —Ñ–∞–π–ª
notepad .env.local
```

**–ò–ª–∏ —Å VS Code:**
```
File ‚Üí New File ‚Üí Save as ".env.local"
```

---

### 5Ô∏è‚É£ –ü–æ–ø—ä–ª–Ω–µ—Ç–µ .env.local

–û—Ç–≤–æ—Ä–µ—Ç–µ `.env.local` –∏ –¥–æ–±–∞–≤–µ—Ç–µ:

```env
# PostgreSQL Database
# –í–ê–ñ–ù–û: –°–º–µ–Ω–µ—Ç–µ YOUR_PASSWORD —Å –≤–∞—à–∞—Ç–∞ PostgreSQL –ø–∞—Ä–æ–ª–∞!
DATABASE_URL="postgresql://postgres:YOUR_PASSWORD@localhost:5432/luna_bar"

# Pusher Channels - –ö–û–ü–ò–†–ê–ô–¢–ï –û–¢ PUSHER DASHBOARD
PUSHER_APP_ID="1234567"                    # ‚Üê –≤–∞—à–∏—è—Ç app_id
NEXT_PUBLIC_PUSHER_KEY="abcdef123456789"   # ‚Üê –≤–∞—à–∏—è—Ç key
PUSHER_SECRET="xyz987654321"               # ‚Üê –≤–∞—à–∏—è—Ç secret
NEXT_PUBLIC_PUSHER_CLUSTER="eu"            # ‚Üê cluster (eu)

# App Configuration
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Auth Secret - –≥–µ–Ω–µ—Ä–∏—Ä–∞–π—Ç–µ random string
AUTH_SECRET="change-this-to-random-secure-string"
```

---

### 6Ô∏è‚É£ –ì–µ–Ω–µ—Ä–∏—Ä–∞–π—Ç–µ AUTH_SECRET

**PowerShell –∫–æ–º–∞–Ω–¥–∞:**
```powershell
-join ((65..90) + (97..122) + (48..57) | Get-Random -Count 32 | % {[char]$_})
```

–ö–æ–ø–∏—Ä–∞–π—Ç–µ output-–∞ –∏ —Å–ª–æ–∂–µ—Ç–µ –≤ AUTH_SECRET

**–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ:**
```
AUTH_SECRET="luna_bar_super_secret_key_2024_xyz123"
```

---

### 7Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ .env.local

–í–∞—à–∏—è—Ç `.env.local` —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–∑–≥–ª–µ–∂–¥–∞ —Ç–∞–∫–∞:

```env
DATABASE_URL="postgresql://postgres:mypassword123@localhost:5432/luna_bar"
PUSHER_APP_ID="1839284"
NEXT_PUBLIC_PUSHER_KEY="a1b2c3d4e5f6g7h8i9j0"
PUSHER_SECRET="x9y8z7w6v5u4t3s2r1q0"
NEXT_PUBLIC_PUSHER_CLUSTER="eu"
NEXT_PUBLIC_APP_URL="http://localhost:3000"
AUTH_SECRET="MySecureRandomString2024XYZ"
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:**
- ‚ùå –ù–ï commit-–≤–∞–π—Ç–µ .env.local –≤ Git!
- ‚ùå –ù–ï —Å–ø–æ–¥–µ–ª—è–π—Ç–µ PUSHER_SECRET –ø—É–±–ª–∏—á–Ω–æ!
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ —á–µ –∏–º–∞—Ç–µ `.env.local` –≤ `.gitignore`

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ! Pusher –µ configured

### –°–ª–µ–¥–≤–∞—â–æ: Database Setup

```powershell
# 1. –°—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ PostgreSQL
# 2. –°—ä–∑–¥–∞–π—Ç–µ database
psql -U postgres
CREATE DATABASE luna_bar;
\q

# 3. Run Prisma migrations
npm run db:generate
npm run db:migrate
npm run db:seed

# 4. Start dev server
npm run dev
```

---

## üß™ –¢–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ Pusher –≤—Ä—ä–∑–∫–∞—Ç–∞

–°–ª–µ–¥ –∫–∞—Ç–æ —Å—Ç–∞—Ä—Ç–∏—Ä–∞—Ç–µ `npm run dev`, –æ—Ç–≤–æ—Ä–µ—Ç–µ browser console (F12) –∏ –≤—ä–≤–µ–¥–µ—Ç–µ:

```javascript
// Test Pusher connection
const pusher = new Pusher('YOUR_KEY_HERE', { cluster: 'eu' });
const channel = pusher.subscribe('test-channel');
channel.bind('test-event', (data) => {
  console.log('‚úÖ Pusher works!', data);
});
```

–í –¥—Ä—É–≥ —Ç–∞–± –Ω–∞ browser-–∞:

```javascript
// Send test message (–æ—Ç Pusher dashboard Debug Console)
```

–ê–∫–æ –≤–∏–¥–∏—Ç–µ "‚úÖ Pusher works!" - –≤—Å–∏—á–∫–æ —Ä–∞–±–æ—Ç–∏!

---

## üéØ Pusher Dashboard Features

### 1. Debug Console
- –í–∏–∂–¥–∞—Ç–µ live events
- –ú–æ–∂–µ—Ç–µ –¥–∞ —Ç–µ—Å—Ç–≤–∞—Ç–µ –∏–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ messages

### 2. Metrics
- –ö–æ–ª–∫–æ connections
- –ö–æ–ª–∫–æ messages
- Usage statistics

### 3. Event Creator
- –ú–æ–∂–µ—Ç–µ —Ä—ä—á–Ω–æ –¥–∞ trigger-–Ω–µ—Ç–µ events –∑–∞ testing

---

## üìä Free Tier Limits

–í–∞—à–∏—è—Ç Sandbox plan –≤–∫–ª—é—á–≤–∞:

‚úÖ **200,000 messages/–¥–µ–Ω**
‚úÖ **100 concurrent connections**
‚úÖ **Unlimited channels**
‚úÖ **SSL encryption**

–ó–∞ Luna Bar (30 –º–∞—Å–∏):
- ~150-300 messages/–¥–µ–Ω = 0.15% usage
- ~5-10 concurrent connections = 10% usage

**–ü–æ–≤–µ—á–µ –æ—Ç –¥–æ—Å—Ç–∞—Ç—ä—á–Ω–æ!** üéâ

---

## ‚ùì Troubleshooting

### "Connection failed"
- –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ `NEXT_PUBLIC_PUSHER_KEY` –≤ .env.local
- Cluster —Ç—Ä—è–±–≤–∞ –¥–∞ –µ 'eu'

### "401 Unauthorized"
- –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ `PUSHER_SECRET` (–∑–∞ server-side)

### "env variable is undefined"
- Restart dev server —Å–ª–µ–¥ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ .env.local
- –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ —á–µ –µ `.env.local` (–Ω–µ `.env`)

---

## üöÄ Ready to Continue?

–°–ª–µ–¥ –∫–∞—Ç–æ setup-–Ω–µ—Ç–µ `.env.local`:

1. ‚úÖ Pusher credentials –¥–æ–±–∞–≤–µ–Ω–∏
2. ‚úÖ PostgreSQL password –≤ DATABASE_URL
3. ‚úÖ AUTH_SECRET –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω

**–ü—Ä–æ–¥—ä–ª–∂–∞–≤–∞–º–µ —Å database migration –∏ ordering system!** üéâ

---

## üìû Need Help?

–ê–∫–æ –Ω–µ—â–æ –Ω–µ —Ä–∞–±–æ—Ç–∏:
1. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ `.env.local` —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
2. Restart dev server
3. Check Pusher dashboard –∑–∞ connection status
4. –ü–∏—Ç–∞–π—Ç–µ –º–µ! üòä


